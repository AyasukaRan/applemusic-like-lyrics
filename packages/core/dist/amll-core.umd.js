(function(p,c){typeof exports=="object"&&typeof module<"u"?c(exports,require("pixi.js"),require("jss"),require("jss-preset-default")):typeof define=="function"&&define.amd?define(["exports","pixi.js","jss","jss-preset-default"],c):(p=typeof globalThis<"u"?globalThis:p||self,c(p.AppleMusicLikeLyricsCore={},p.pixi_js,p.jss,p.preset))})(this,function(p,c,y,b){"use strict";var q=Object.defineProperty;var F=(p,c,y)=>c in p?q(p,c,{enumerable:!0,configurable:!0,writable:!0,value:y}):p[c]=y;var a=(p,c,y)=>(F(p,typeof c!="symbol"?c+"":c,y),y);class P extends c.Container{constructor(){super(...arguments);a(this,"time",0)}}class S{constructor(t){a(this,"observer");a(this,"app");a(this,"curContainer");a(this,"lastContainer",new Set);a(this,"onTick",t=>{for(const e of this.lastContainer)e.alpha=Math.max(0,e.alpha-t/60),e.alpha<=0&&(this.app.stage.removeChild(e),this.lastContainer.delete(e));if(this.curContainer){this.curContainer.alpha=Math.min(1,this.curContainer.alpha+t/60);const[e,r,i,n]=this.curContainer.children,l=Math.max(this.app.screen.width,this.app.screen.height);e.position.set(this.app.screen.width/2,this.app.screen.height/2),r.position.set(this.app.screen.width/2.5,this.app.screen.height/2.5),i.position.set(this.app.screen.width/2,this.app.screen.height/2),n.position.set(this.app.screen.width/2,this.app.screen.height/2),e.width=l*Math.sqrt(2),e.height=e.width,r.width=l*.8,r.height=r.width,i.width=l*.5,i.height=i.width,n.width=l*.25,n.height=n.width,this.curContainer.time+=t,e.rotation+=t/1e3,r.rotation-=t/500,i.rotation+=t/1e3,n.rotation-=t/750,i.x=this.app.screen.width/2+this.app.screen.width/4*Math.cos(this.curContainer.time/1e3*.75),i.y=this.app.screen.height/2+this.app.screen.width/4*Math.cos(this.curContainer.time/1e3*.75),n.x=this.app.screen.width/2+this.app.screen.width/4*.1+Math.cos(this.curContainer.time*.006*.75),n.y=this.app.screen.height/2+this.app.screen.width/4*.1+Math.cos(this.curContainer.time*.006*.75)}});a(this,"currerntRenderScale",.75);this.canvas=t;const e=t.getBoundingClientRect();this.canvas.width=e.width*this.currerntRenderScale,this.canvas.height=e.height*this.currerntRenderScale,this.observer=new ResizeObserver(()=>{const r=t.getBoundingClientRect();this.canvas.width=Math.max(1,r.width),this.canvas.height=Math.max(1,r.height),this.app.renderer.resize(this.canvas.width*this.currerntRenderScale,this.canvas.height*this.currerntRenderScale),this.rebuildFilters()}),this.observer.observe(t),this.app=new c.Application({view:t,resizeTo:this.canvas,powerPreference:"low-power",backgroundAlpha:0}),this.rebuildFilters(),this.app.ticker.add(this.onTick),this.app.ticker.start()}setRenderScale(t){this.currerntRenderScale=t;const e=this.canvas.getBoundingClientRect();this.canvas.width=Math.max(1,e.width),this.canvas.height=Math.max(1,e.height),this.app.renderer.resize(this.canvas.width*this.currerntRenderScale,this.canvas.height*this.currerntRenderScale),this.rebuildFilters()}rebuildFilters(){const t=Math.min(this.canvas.width,this.canvas.height),e=new c.ColorMatrixFilter;e.saturate(1.2,!1);const r=new c.ColorMatrixFilter;r.brightness(.6,!1);const i=new c.ColorMatrixFilter;i.contrast(.3,!0),this.app.stage.filters=[],this.app.stage.filters.push(new c.BlurFilter(5,1)),this.app.stage.filters.push(new c.BlurFilter(10,1)),this.app.stage.filters.push(new c.BlurFilter(20,2)),this.app.stage.filters.push(new c.BlurFilter(40,2)),t>512&&this.app.stage.filters.push(new c.BlurFilter(80,2)),t>768&&this.app.stage.filters.push(new c.BlurFilter(160,4)),t>768*2&&this.app.stage.filters.push(new c.BlurFilter(320,4)),this.app.stage.filters.push(e,r,i),this.app.stage.filters.push(new c.BlurFilter(5,1))}setFPS(t){this.app.ticker.maxFPS=t}pause(){this.app.ticker.stop(),this.app.render()}resume(){this.app.ticker.start()}async setAlbumImage(t){const e=await c.Texture.fromURL(t),r=new P,i=new c.Sprite(e),n=new c.Sprite(e),l=new c.Sprite(e),s=new c.Sprite(e);i.anchor.set(.5,.5),n.anchor.set(.5,.5),l.anchor.set(.5,.5),s.anchor.set(.5,.5),i.rotation=Math.random()*Math.PI*2,n.rotation=Math.random()*Math.PI*2,l.rotation=Math.random()*Math.PI*2,s.rotation=Math.random()*Math.PI*2,r.addChild(i,n,l,s),this.curContainer&&this.lastContainer.add(this.curContainer),this.curContainer=r,this.app.stage.addChild(this.curContainer),this.curContainer.alpha=0}dispose(){this.observer.disconnect(),this.app.ticker.remove(this.onTick)}}class T extends S{constructor(){const e=document.createElement("canvas");super(e);a(this,"element");this.element=e,e.style.pointerEvents="none",e.style.zIndex="-1"}getElement(){return this.element}dispose(){super.dispose(),this.element.remove()}}const w=(d,t)=>d.size===t.size&&[...d].every(e=>t.has(e));class E{constructor(t){a(this,"element",document.createElement("div"));a(this,"dot0",document.createElement("div"));a(this,"dot1",document.createElement("div"));a(this,"dot2",document.createElement("div"));this.lyricPlayer=t,this.element.className=t.style.classes.interludeDots,this.element.appendChild(this.dot0),this.element.appendChild(this.dot1),this.element.appendChild(this.dot2)}getElement(){return this.element}dispose(){this.element.remove()}}class L{constructor(t=0){a(this,"currentPosition",0);a(this,"targetPosition",0);a(this,"currentTime",0);a(this,"params",{});a(this,"currentSolver");a(this,"getV");a(this,"queueParams",[]);a(this,"queuePosition",[]);this.targetPosition=t,this.currentPosition=this.targetPosition,this.currentSolver=()=>this.targetPosition,this.getV=()=>0}resetSolver(){const t=this.getV(this.currentTime);this.currentTime=0,this.currentSolver=v(this.currentPosition,t,this.targetPosition,0,this.params),this.getV=M(this.currentSolver)}setPosition(t){this.targetPosition=t,this.currentPosition=t,this.currentSolver=()=>this.targetPosition,this.getV=()=>0}update(t=0){this.currentTime+=t,this.currentPosition=this.currentSolver(this.currentTime);const e=this.queueParams[0];e&&(this.queueParams.forEach(i=>{i.time-=t}),e.time<=0&&(this.updateParams({mass:e.mass,damping:e.damping,stiffness:e.stiffness,soft:e.soft}),this.queueParams.shift()));const r=this.queuePosition[0];r&&(this.queuePosition.forEach(i=>{i.time-=t}),r.time<=0&&(this.setTargetPosition(r.position),this.queuePosition.shift()))}updateParams(t,e=0){e>0?(this.queueParams=this.queueParams.filter(r=>r.time<e),this.queueParams.push({...t,time:e})):(this.params={...this.params,...t},this.resetSolver())}setTargetPosition(t,e=0){e>0?(this.queuePosition=this.queuePosition.filter(r=>r.time<e),this.queuePosition.push({position:t,time:e})):(this.targetPosition=t,this.resetSolver())}getCurrentPosition(){return this.currentPosition}}function v(d,t,e,r=0,i){const n=i.soft??!1,l=i.stiffness??100,s=i.damping??10,h=i.mass??1,o=e-d;if(n||1<=s/(2*Math.sqrt(l*h))){const m=-Math.sqrt(l/h),u=-m*o-t;return f=>(f-=r,f<0?d:e-(o+f*u)*Math.E**(f*m))}else{const m=Math.sqrt(4*h*l-s**2),u=(s*o-2*h*t)/m,f=.5*m/h,I=-(.5*s)/h;return g=>(g-=r,g<0?d:e-(Math.cos(g*f)*o+Math.sin(g*f)*u)*Math.E**(g*I))}}function x(d){return e=>(d(e+.001)-d(e-.001))/(2*.001)}function M(d){return x(d)}const C=/^([\p{Unified_Ideograph}\u3006\u3007][\ufe00-\ufe0f\u{e0100}-\u{e01ef}]?)+$/u;function z(d,t="rgba(0,0,0,1)",e="rgba(0,0,0,0.5)"){const r=2+d,i=d/r,n=(1-i)/2;return[`linear-gradient(to right,${t} ${n*100}%,${e} ${(n+i)*100}%)`,i,r]}class B{constructor(t,e={words:[],translatedLyric:"",romanLyric:"",startTime:0,endTime:0,isBG:!1,isDuet:!1}){a(this,"element",document.createElement("div"));a(this,"currentTime",0);a(this,"left",0);a(this,"top",0);a(this,"scale",1);a(this,"blur",0);a(this,"delay",0);a(this,"splittedWords",[]);a(this,"lineSize",[0,0]);a(this,"lineTransforms",{posX:new L(0),posY:new L(0),scale:new L(1)});a(this,"_hide",!0);a(this,"lastStyle","");this.lyricPlayer=t,this.lyricLine=e,this.element.setAttribute("class",this.lyricPlayer.style.classes.lyricLine),this.lyricLine.isBG&&this.element.classList.add(this.lyricPlayer.style.classes.lyricBgLine),this.lyricLine.isDuet&&this.element.classList.add(this.lyricPlayer.style.classes.lyricDuetLine),this.element.appendChild(document.createElement("div")),this.element.appendChild(document.createElement("div")),this.element.appendChild(document.createElement("div"));const r=this.element.children[0],i=this.element.children[1],n=this.element.children[2];r.setAttribute("class",this.lyricPlayer.style.classes.lyricMainLine),i.setAttribute("class",this.lyricPlayer.style.classes.lyricSubLine),n.setAttribute("class",this.lyricPlayer.style.classes.lyricSubLine),this.rebuildElement(),this.rebuildStyle()}enable(){this.element.classList.add("active"),this.element.children[0].classList.add("active")}disable(){this.element.classList.remove("active"),this.element.children[0].classList.remove("active")}setLine(t){this.lyricLine=t,this.lyricLine.isBG?this.element.classList.add(this.lyricPlayer.style.classes.lyricBgLine):this.element.classList.remove(this.lyricPlayer.style.classes.lyricBgLine),this.lyricLine.isDuet?this.element.classList.add(this.lyricPlayer.style.classes.lyricDuetLine):this.element.classList.remove(this.lyricPlayer.style.classes.lyricDuetLine),this.rebuildElement(),this.rebuildStyle()}getLine(){return this.lyricLine}show(){this._hide=!1,this.rebuildStyle()}hide(){this._hide=!0,this.rebuildStyle()}rebuildStyle(){if(this._hide){this.lastStyle!=="visibility:hidden;transform:translate(0,-10000px);"&&(this.lastStyle="visibility:hidden;transform:translate(0,-10000px);",this.element.setAttribute("style","visibility:hidden;transform:translate(0,-10000px);"));return}let t=`transform:translate(${this.lineTransforms.posX.getCurrentPosition()}px,${this.lineTransforms.posY.getCurrentPosition()}px) scale(${this.lineTransforms.scale.getCurrentPosition()});`;this.lyricPlayer.disableSpring&&this.isInSight&&(t+=`transition-delay:${this.delay}ms;`),t+=`filter:blur(${this.blur}px);`,t!==this.lastStyle&&(this.lastStyle=t,this.element.setAttribute("style",t))}rebuildElement(){const t=this.element.children[0],e=this.element.children[1],r=this.element.children[2];for(this.splittedWords=[],this.lyricLine.words.forEach(i=>{C.test(i.word)?this.splittedWords=this.splittedWords.concat(i.word.split("").map((n,l,s)=>({word:n,startTime:i.startTime+l*(i.endTime-i.startTime)/s.length,endTime:i.startTime+(l+1)*(i.endTime-i.startTime)/s.length,width:0,height:0}))):this.splittedWords.push({...i,width:0,height:0})});this.splittedWords.length>t.childElementCount;)t.appendChild(document.createElement("span"));for(let i=0;i<Math.max(t.childElementCount,this.splittedWords.length);i++){const n=this.splittedWords[i],l=t.children[i];n?l.innerText=n.word:l.innerText=""}e.innerText=this.lyricLine.translatedLyric,r.innerText=this.lyricLine.romanLyric}updateMaskImage(){var e,r;const t=this.element.children[0];for(let i=0;i<Math.max(t.childElementCount,this.splittedWords.length);i++){const n=this.splittedWords[i],l=t.children[i];if(((r=(e=n==null?void 0:n.word)==null?void 0:e.trim())==null?void 0:r.length)>0){n.width=l.clientWidth,n.height=l.clientHeight;const[s,h,o]=z(16/n.width,"rgba(0,0,0,0.75)","rgba(0,0,0,0.25)"),m=`${o*100}% 100%`;this.lyricPlayer.supportMaskImage?(l.style.maskImage=s,l.style.maskOrigin="left",l.style.maskSize=m):(l.style.webkitMaskImage=s,l.style.webkitMaskOrigin="left",l.style.webkitMaskSize=m);const u=n.width+16,f=`clamp(${-u}px,calc(${-u}px + (var(--amll-player-time) - ${n.startTime})*${u/Math.abs(n.endTime-n.startTime)}px),0px) 0px, left top`;l.style.maskPosition=f,l.style.webkitMaskPosition=f}}}getElement(){return this.element}setTransform(t=this.left,e=this.top,r=this.scale,i=1,n=0,l=!1,s=0){this.left=t,this.top=e,this.scale=r,this.blur=n,this.delay=s*1e3|0;const h=this.element.children[0];h.style.opacity=`${i}`,l||this.lyricPlayer.disableSpring?(l&&this.element.classList.add(this.lyricPlayer.style.classes.tmpDisableTransition),this.lineTransforms.posX.setPosition(t),this.lineTransforms.posY.setPosition(e),this.lineTransforms.scale.setPosition(r),this.lyricPlayer.disableSpring?this.show():this.rebuildStyle(),l&&requestAnimationFrame(()=>{this.element.classList.remove(this.lyricPlayer.style.classes.tmpDisableTransition)})):(this.lineTransforms.posX.setTargetPosition(t,s),this.lineTransforms.posY.setTargetPosition(e,s),this.lineTransforms.scale.setTargetPosition(r),this.element.style.filter=`blur(${n}px)`)}update(t=0){this.lyricPlayer.disableSpring||(this.lineTransforms.posX.update(t),this.lineTransforms.posY.update(t),this.lineTransforms.scale.update(t),this.isInSight?this.show():this.hide())}get isInSight(){const t=this.lineTransforms.posX.getCurrentPosition(),e=this.lineTransforms.posY.getCurrentPosition(),r=t+this.lineSize[0],i=e+this.lineSize[1],n=this.lyricPlayer.pos[0],l=this.lyricPlayer.pos[1],s=this.lyricPlayer.pos[0]+this.lyricPlayer.size[0],h=this.lyricPlayer.pos[1]+this.lyricPlayer.size[1];return!(t>s||e>h||r<n||i<l)}dispose(){this.element.remove()}}y.setup(b());class k extends EventTarget{constructor(){super();a(this,"element",document.createElement("div"));a(this,"currentTime",0);a(this,"lyricLines",[]);a(this,"processedLines",[]);a(this,"lyricLinesEl",[]);a(this,"lyricLinesSize",new Map);a(this,"hotLines",new Set);a(this,"bufferedLines",new Set);a(this,"scrollToIndex",0);a(this,"resizeObserver",new ResizeObserver(e=>{const r=e[0].contentRect;this.size=[r.width,r.height],this.pos=[r.left,r.top],this.rebuildStyle(),this.calcLayout(!0),this.lyricLinesEl.forEach(i=>i.updateMaskImage())}));a(this,"enableBlur",!0);a(this,"size",[0,0]);a(this,"pos",[0,0]);a(this,"interludeDots");a(this,"supportPlusLighter",CSS.supports("mix-blend-mode","plus-lighter"));a(this,"supportMaskImage",CSS.supports("mask-image","none"));a(this,"disableSpring",!1);a(this,"alignAnchor",.5);a(this,"style",y.createStyleSheet({lyricPlayer:{userSelect:"none",padding:"1rem",boxSizing:"border-box",fontSize:"max(5vh, 12px)",fontWeight:"bold",width:"100%",height:"100%",overflow:"hidden",maxWidth:"100%",maxHeight:"100%",zIndex:1,color:"var(--amll-lyric-line-color)",mixBlendMode:"plus-lighter",contain:"strict"},lyricLine:{position:"absolute",transformOrigin:"left",maxWidth:"65%",padding:"2vh",contain:"content",transition:"filter 0.25s"},"@media (max-width: 1024px)":{lyricLine:{maxWidth:"75%",padding:"1vh"}},lyricDuetLine:{textAlign:"right",transformOrigin:"right"},lyricBgLine:{opacity:0,fontSize:"max(50%, 10px)",transition:"opacity 0.25s","&.active":{transition:"opacity 0.25s 0.25s",opacity:1}},lyricMainLine:{transition:"opacity 0.3s 0.25s","& > *":{display:"inline-block",whiteSpace:"pre-wrap"}},lyricSubLine:{fontSize:"max(50%, 10px)",opacity:.5},disableSpring:{"& > *":{transition:"filter 0.25s, transform 0.5s"}},interludeDots:{fontSize:"max(50%, 10px)",opacity:.5,"& > *":{content:'"*"'}},"@supports (mix-blend-mode: plus-lighter)":{lyricMainLine:{},lyricSubLine:{opacity:.3}},tmpDisableTransition:{transition:"none !important"}}));a(this,"posXSpringParams",{mass:1,damping:10,stiffness:100});a(this,"posYSpringParams",{mass:1,damping:15,stiffness:100});a(this,"scaleSpringParams",{mass:1,damping:20,stiffness:100});this.interludeDots=new E(this),this.element.setAttribute("class",this.style.classes.lyricPlayer),this.disableSpring&&this.element.classList.add(this.style.classes.disableSpring),this.rebuildStyle(),this.resizeObserver.observe(this.element),this.element.appendChild(this.interludeDots.getElement()),this.style.attach()}setEnableSpring(e=!0){this.disableSpring=!e,e?this.element.classList.remove(this.style.classes.disableSpring):this.element.classList.add(this.style.classes.disableSpring),this.calcLayout(!0)}rebuildStyle(){let e="";e+="--amll-lyric-player-width:",e+=this.element.clientWidth,e+="px;",e+="--amll-lyric-player-height:",e+=this.element.clientHeight,e+="px;",e+="--amll-lyric-line-color:",e+="#FFFFFF;",e+="--amll-player-time:",e+=this.currentTime,e+=";",this.element.setAttribute("style",e)}setEnableBlur(e){this.enableBlur!==e&&(this.enableBlur=e,this.calcLayout())}setLyricLines(e){this.lyricLines=e;const r=750;this.processedLines=e.map((i,n,l)=>{if(i.isBG)return{...i};{const s=l[n-1],h=l[n-2];if(s!=null&&s.isBG&&h){if(h.endTime<i.startTime)return{...i,startTime:Math.max(h.endTime,i.startTime-r)||i.startTime}}else if(s!=null&&s.endTime&&s.endTime<i.startTime)return{...i,startTime:Math.max(s==null?void 0:s.endTime,i.startTime-r)||i.startTime};return{...i}}}),this.lyricLinesEl.forEach(i=>i.dispose()),this.lyricLinesEl=this.processedLines.map(i=>new B(this,i)),this.lyricLinesEl.forEach(i=>(this.element.appendChild(i.getElement()),i.updateMaskImage())),this.setLinePosXSpringParams({}),this.setLinePosYSpringParams({}),this.setLineScaleSpringParams({}),this.calcLayout(!0)}calcLayout(e=!1){e&&this.lyricLinesEl.forEach(h=>{const o=[h.getElement().clientWidth,h.getElement().clientHeight];this.lyricLinesSize.set(h,o),h.lineSize=o});const r=.95;let n=-this.lyricLinesEl.slice(0,this.scrollToIndex).reduce((h,o)=>h+(o.getLine().isBG?0:this.lyricLinesSize.get(o)[1]),0);if(this.alignAnchor==="bottom"){n+=this.element.clientHeight/2;const h=this.lyricLinesEl[this.scrollToIndex];if(h){const o=this.lyricLinesSize.get(h)[1];n-=o/2}}else if(typeof this.alignAnchor=="number"){n+=this.element.clientHeight*this.alignAnchor;const h=this.lyricLinesEl[this.scrollToIndex];if(h){const o=this.lyricLinesSize.get(h)[1];n-=o}}const l=Math.max(...this.bufferedLines);let s=0;this.lyricLinesEl.forEach((h,o)=>{const m=this.bufferedLines.has(o)||o>=this.scrollToIndex&&o<l,u=h.getLine();let f=0;u.isDuet&&(f=this.size[0]-this.lyricLinesSize.get(h)[0]),h.setTransform(f,n,m?1:r,!m&&o<=this.scrollToIndex?1/3:1,this.enableBlur?3*(m?0:1+(o<this.scrollToIndex?Math.abs(this.scrollToIndex-o):Math.abs(o-Math.max(this.scrollToIndex,l)))):0,e,s),u.isBG&&m?n+=this.lyricLinesSize.get(h)[1]:u.isBG||(n+=this.lyricLinesSize.get(h)[1]),n>=0&&(s+=.05)})}getCurrentTime(){return this.currentTime}getLyrics(){return this.lyricLines}getElement(){return this.element}setCurrentTime(e,r=!1){this.currentTime=e,this.element.style.setProperty("--amll-player-time",`${e}`);const i=new Set,n=new Set,l=new Set;this.hotLines.forEach(s=>{const h=this.processedLines[s];if(!h.isBG)if(h){const o=this.processedLines[s+1];if(o!=null&&o.isBG){const m=Math.min(h.startTime,o==null?void 0:o.startTime),u=Math.max(h.endTime,o==null?void 0:o.endTime);(m>e||u<=e)&&(this.hotLines.delete(s),i.add(s),this.hotLines.delete(s+1),i.add(s+1),r&&(this.lyricLinesEl[s].disable(),this.lyricLinesEl[s+1].disable()))}else(h.startTime>e||h.endTime<=e)&&(this.hotLines.delete(s),i.add(s),r&&this.lyricLinesEl[s].disable())}else this.hotLines.delete(s),i.add(s),r&&this.lyricLinesEl[s].disable()}),this.bufferedLines.forEach(s=>{this.hotLines.has(s)||(this.bufferedLines.delete(s),n.add(s),r&&this.lyricLinesEl[s].disable())}),this.processedLines.forEach((s,h,o)=>{var m;!s.isBG&&s.startTime<=e&&s.endTime>e&&(this.hotLines.has(h)||(this.hotLines.add(h),l.add(h),r&&this.lyricLinesEl[h].enable(),(m=o[h+1])!=null&&m.isBG&&(this.hotLines.add(h+1),l.add(h+1),r&&this.lyricLinesEl[h+1].enable())))}),r?(this.bufferedLines.size>0?this.scrollToIndex=Math.min(...this.bufferedLines):this.scrollToIndex=this.processedLines.findIndex(s=>s.startTime>=e),this.bufferedLines.clear(),this.hotLines.forEach(s=>this.bufferedLines.add(s)),this.calcLayout(!0)):(n.size>0||l.size>0)&&(n.size===0&&l.size>0?(l.forEach(s=>{this.bufferedLines.add(s),this.lyricLinesEl[s].enable()}),this.scrollToIndex=Math.min(...this.bufferedLines)):l.size===0&&n.size>0?w(n,this.bufferedLines)&&this.bufferedLines.forEach(s=>{this.hotLines.has(s)||(this.bufferedLines.delete(s),this.lyricLinesEl[s].disable())}):(l.forEach(s=>{this.bufferedLines.add(s),this.lyricLinesEl[s].enable()}),n.forEach(s=>{this.bufferedLines.delete(s),this.lyricLinesEl[s].disable()}),this.bufferedLines.size>0&&(this.scrollToIndex=Math.min(...this.bufferedLines))),this.calcLayout())}update(e=0){e/=1e3,this.lyricLinesEl.forEach(r=>r.update(e))}setLinePosXSpringParams(e){this.posXSpringParams={...this.posXSpringParams,...e},this.lyricLinesEl.forEach(r=>r.lineTransforms.posX.updateParams(this.posXSpringParams))}setLinePosYSpringParams(e){this.posYSpringParams={...this.posYSpringParams,...e},this.lyricLinesEl.forEach(r=>r.lineTransforms.posY.updateParams(this.posYSpringParams))}setLineScaleSpringParams(e){this.scaleSpringParams={...this.scaleSpringParams,...e},this.lyricLinesEl.forEach(r=>r.lineTransforms.scale.updateParams(this.scaleSpringParams))}dispose(){this.element.remove(),this.resizeObserver.disconnect(),this.style.detach(),this.lyricLinesEl.forEach(e=>e.dispose())}}p.BackgroundRender=T,p.LyricPlayer=k,Object.defineProperty(p,Symbol.toStringTag,{value:"Module"})});
